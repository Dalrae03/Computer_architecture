# 7단원 - 보조기억장치

## 다양한 보조기억장치

### 하드 디스크

→ 자기적인 방식으로 데이터를 저장하는 보조기억장치 (자기 디스크의 일종)

CD와 LP와 비슷하게 동작. 

동그란 원판에 데이터를 저장하고, 그것을 회전시켜서 리더기로 데이터를 읽는다.

<br>

### 하드 디스크 내부

- **플래터**

→ 하드 디스크에서 데이터가 저장되는 원판

자기 물질로 덮여 있어 수많은 N극과 S극을 저장. N극과 S극은 0과 1의 역할을 수행한다.

<br>

<ins>스핀들</ins>: 플래터를 회전시키는 구성 요소. 

스핀들이 플래터를 돌리는 속도는 분당 회전수를 나타내는 <ins>RPM</ins>이라는 단위로 표현한다.

<br>

<ins>헤드</ins>: 플래터를 대상으로 데이터를 읽고 쓰는 구성 요소

바늘같이 생겨서 플래터 위에서 미세하게 떠 있는 채로 데이터를 읽고 쓴다.

<br>

<ins>디스크 암</ins>: 헤드를 원하는 위치로 위동시킨다. 디스크암에 헤드가 붙어있다.

<br>
<br>

- **트랙**

→ 플래터를 여러 동심원으로 나누었을 때 그중 하나의 원

<br>

- **섹터**

→ 트랙을 여러조각으로 나눈 한 조각, 하드 디스크의 가장 작은 전송 단위

(일반적으로 512바이트 정도의 크기)

+) 하나 이상의 섹터를 묶어 블록이라고 표현하기도 한다.

<br>

- **실린더**

→ 여러겹의 플래터상에서 같은 트랙이 위치한 곳을 모아 연결한 논리적 단위

![플래터 구성요소](7단원%20-%20플래터%20구성요소.png)

연속된 정보는 보통 한 실린더에 기록된다.

ex) 2개의 플래터를 사용하는 하드디스크에서 4개의 섹터에 걸쳐 데이터를 저장할 때 첫번째 플래터 윗면 뒷면, 두번째 플래터 윗면뒷면에 저장

⇒ 디스크 암을 움직이지 않고도 바로 데이터에 접근할 수 있기 때문

<br>
<br>

### 데이터 접근 시간

→ 하드 디스크가 데이터에 접근하는 시간. 탐색시간, 회전 지연, 전송시간으로 구분. 성능에 큰 영향을 끼친다

<br>

- **탐색시간**: 헤드를 접근하고자 하는 데이터가 저장된 트랙까지 이동하는 시간
- **회전 지연**: 헤드가 있는 곳으로 플래터를 회전시키는 시간
- **전송 시간**: 하드 디스크와 컴퓨터 간에 데이터를 전송하는 시간

탐색 시간과 회전 지연을 단축시키기 위해서는 플래터를 빨리 돌려 RPM을 높이는 것도 중요하지만, 접근하려는 데이터가 플래터 혹은 헤드를 조금만 옮겨도 접근할 수 있는 곳에 위치해 있는 것도 중요하다.

<br>

+) 

단일 헤드 디스크 (= 이동 헤드 디스크):  플래터의 한 면당 헤드가 하나씩 달려 있는 하드 디스크

다중 헤드 디스크 (= 고정 헤드 디스크): 헤드가 트랙별로 여러 개 달려있는 하드 디스크. 트랙마다 헤드가 있기 때문에 탐색 시간이 들지 않는다. → 탐색 시간이 0이다. 

<br>
<br>

### 플래시 메모리

→ 전기적으로 데이터를 읽고 쓸 수 있는 반도체 기반의 저장 장치. 다양한 곳에서 널리 사용하는 저장장치

USB메모리, SD카드, SSD가 플래시 메모리 기반의 보조기억 장치

<br>

- 셀: 데이터를 저장하는 가장 작은 단위. 모여서 MB, GB, TB용량을 갖는 저장 장치가 된다.

SLC (한 셀에 1비트), MLC (한 셀에 2비트), TLC (한 셀에 3비트 저장) → 플래시 메모리의 수명, 속도, 가격에 큰 영향을 끼친다.

<br>

- **SLC(Single Level Cell)**

→ 한 셀에 한 비트를 저장할 수 있는 플래시 메모리의 종류

MLC와 TLC타입에 비해 비트의 빠른 입출력이 가능

수명도 두 개보다 길다.

단점: 용량대비 가격이 높다

⇒ 기업에서 데이터를 일고 쓰기가 매우 많이 반복되며 고성능의 빠른 저장 장치가 필요한 경우에 사용

썼다 지우기를 자주 반복해야하는 경우, 높은 성능을 원하는 경우

<br>

- MLC

→ 한 셀에 2비트 저장, 한 셀로 4개의 정보를 표현 할 수 있다. (한 셀에 두 비트 씩 저장)

SLC 타입보다 일반적으로 속도와 수명은 떨어짐, but 대용화 하기 유리

SLC 타입보다 용량대비 가력 저렴.

시중에서 사용되는 많은 플래시 메모리 저장 장치들에 사용

<br>

- TLC

→ 한 셀에 3비트 저장. 한 셀로 8개의 정보 표현 가능

대용량화 하기 유리

두 타입보다 수명과 속도가 떨어지지만 용량대비 가격 저렴

저가의 대용량 저장장치를 원하는 경우

| 구분 | SLC | MLC | TLC |
| --- | --- | --- | --- |
| 셀당 bit | 1bit | 2bit | 3bit |
| 수명 | 길다 | 보통 | 짧다 |
| 읽기/쓰기 속도 | 빠르다 | 보통 | 느리다 |
| 용량 대비 가격 | 높다 | 보통 | 낮다 |

<br>

- 셀보다 더 큰 단위

셀 ⇒ 페이지 ⇒ 블록 ⇒ 플레인 ⇒ 다이

플레시 메모리는 읽기와 쓰기는 페이지 단위로 삭제는 페이지보다 큰 블록 단위로 이루어진다는 특징이 있다.

<br>

- 3가지 상태
    - Free 상태: 어떠한 데이터도 없어 새로운 데이터를 저장할 수 있는 상태
    - Valid 상태: 이미 유효한 데이터를 저장하고 있는 상태 → 새 데이터 저장 불가능
    - Invalid 상태: 유효하지 않은 데이터 (쓰레기값)를 저장하고 있는 상태

+) 가비지 컬렉션: 유효한 페이지들만을 새로운 블록으로 복사한뒤 기존의 블록 삭제

<br>
<br>
<br>

## RAID의 정의와 종류

- **RAID (Redundant Arrat of Independent Disks)**

→ 데이터의 안전성 혹은 성능을 위해 여러 하드 디스크나 SSD (여러개의 물리적 보조기억장치)를 하나의 장치 (논리적 보조기억장치)처럼 사용하는 기술

RAID 레벨 (RAID 구성방법) : RAID 0 ~ 6, RAID10 (1+0), RAID50 (5+0) (2, 3은 현재 잘 활용 X, 혼합한 방식: Nested RAID) 

<br>

- RAID 0

→ 여러 개의 보조기억장치에 데이터를 단순히 나누어 저장하는 구성 방식

각 하드 디스크는 번갈아 가며 데이터 저장. (저장되는 데이터가 하드 디스크 개수만큼 나뉘어 저장되는 것)

<ins>스트라입</ins>: 줄무늬처럼 분산되어 저장된 데이터

<ins>스트라이핑</ins>: 분산하여 저장하는 것 ⇒ 저장된 데이터를 읽고 쓰는 속도가 빨라짐 (동시에 데이터를 읽고 쓸 수 있기 때문)

<ins>단점</ins>: 저장된 정보가 안전하지 않다. 하드디스크 중 하나에 문제가 생긴다면 다른 모든 하드 디스크의 정보를 읽는데 문제가 생길 수 있다.

![RAID 0](7단원%20-%20RAID%200.png)

<br>

- RAID 1

→ 복사본을 만드는 방식 (미러링)

RAID 1에 데이터를 쓸 때 원본과 복사본 두군데에 쓴다. 

속도는 RAID 0보다 느리다

복구가 간단하다

<ins>단점</ins>: 하드디스크 개수가 한정되었을 때 사용 가능한 용량이 적어짐 → 많은 양의 하드 디스크 필요 → 비용 증가

<br>

- RAID 4

→ 오류를 검출하고 복구하기 위한 정보를 저장한 장치를 두는 구성 방식

<ins>패러티 비트</ins>: 오류를 검출하고 복구하기 위한 정보 (원래는 오류 검출용이지만 RAID에서는 복구도 가능)

패러티를 저장한 장치를 이용해 다른 장치들의 오류를 검출하고, 오류가 있다면 복구한다,

RAID 1보다 적은 하드 디스크로도 데이터를 안전하게 보관

<ins>단점</ins>: 새로운 데이터가 저장될 때마다 패러티를 저장하는 디스크에도 데이터를 쓰게 되어 병목현상 발생

+) 병목현상: 전체 시스템의 성능이나 용량이 하나의 구성 요소로 인해 제한을 받는 현상

![RAID 4](7단원%20-%20RAID%204.png)

<br>

- RAID 5

→ 패러티 정보를 분산하여 저장하는 방식.

병목현상 해소

![RAID 5](7단원%20-%20RAID%205.png)

<br>

- RAID 6

→ 서로 다른 두개의 패러티를 두는 방식

오류를 검출하고 복구할 수 있는 수단이 두 개 생긴 셈

4, 5보다 안전한 구성

데이터 저장 속도를 조금 희생하더라도 데이터를 더욱 안전하게 보관하고 싶을 때 사용

<ins>단점</ins>: 새로운 정보를 저장할 때마다 함께 저장할 패러티가 두개여서 쓰기속도는 5보다 느리다.

![RAID 6](7단원%20-%20RAID%206.png)